<div class="container">
  <div class="form-group">
    <form [formGroup]="personFormGroup" #formDir="ngForm" (ngSubmit)="submit()">
      <div class="form-control">
        <label for="username">User Name:</label>
        <input id="username" type="text" formControlName="username" />
        <div *ngIf="username.invalid && (username.dirty || username.touched)">
          <div class="error" *ngIf="username.errors?.required">
            User is required.
          </div>
          <div class="error" *ngIf="username.errors?.minlength">
            Username length should be greater than 6
          </div>
        </div>
      </div>
      <div class="form-control">
        <label for="fname">First Name:</label>
        <input id="fname" type="text" formControlName="fname" />
      </div>
      <div class="form-control">
        <label for="lname">Last Name:</label>
        <input id="lname" type="text" formControlName="lname" />
      </div>
      <div class="form-group" formGroupName="address">
        <div class="form-control">
          <label for="pin">Pin:</label>
          <input id="pin" type="text" formControlName="pin" />
          <div *ngIf="pin.invalid && (pin.dirty || pin.touched)">
            <div class="error" *ngIf="pin.errors?.required">
              Pin is required.
            </div>
            <div class="error" *ngIf="pin.errors?.minlength">
              Pin length should be greater than 6
            </div>
          </div>
        </div>
        <div class="form-control">
          <label for="city">City:</label>
          <input id="city" type="text" formControlName="city" />
        </div>
      </div>
      <div class="form-control" formArrayName="hobbies">
        <label for="addbutton">Hobbies:</label>
        <button id="addbutton" (click)="addHobby()">+ Add another hobby</button>
        <div *ngFor="let hobby of hobbies.controls; let i = index">
          <label for="hobby-{{ i }}">Hobby</label>
          <input id="hobby-{{ i }}" type="text" [formControlName]="i" />
        </div>
      </div>
      <button [disabled]="formDir.invalid" type="submit">Submit</button>
    </form>
  </div>
</div>
